<div ng-include="'templates/layout/layout.html'"></div>
<div class="main-content main-he">
    <div class="head_bt">
        <h2>券规则设置</h2>
    </div>
    <div style="margin-bottom:55px;">
        <div class="recordQuer">
            <div class="input-group" style="float: left;">
                <!--<span class="timeTip1">发放时间：<input type="text" class="timeTip1" placeholder="年/月/日 时：分：秒" value="" id="myTime" ng-model="cashData.startDate"  onclick="SelectDate(this,'yyyy/MM/dd hh:mm:ss')"/></span>-->
                <!--</div>-->
                <!--<span class="timeTip">开始时间：</span><input type="date" placeholder="yyyy-MM-dd "  class="serch_new"  ng-model="cashData.startDate" /><input type="time"  class="serch_new1" ng-model="cashData.startDate" />-->
                <!--</div>-->
                <span class="timeTip1">发放时间：</span>
                <input type="date" placeholder="yyyy-MM-dd " class="timeTip1" ng-model="cashData.startDate" />
            </div>
            <!--<div class="input-group quer" style="float: left;">-->
            <div class="input-group" style="float: left;">
                <!--<span class="timeTip1">至&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<input type="text" class="timeTip1" placeholder="年/月/日 时：分：秒" value="" id="myTime1" ng-model="cashData.endDate"  onclick="SelectDate(this,'yyyy/MM/dd hh:mm:ss')"/></span>-->
                <!--</div>-->
                <!--<span class="timeTip">结束时间：</span><input type="date" placeholder="yyyy-MM-dd " class="serch_new"  ng-model="cashData.endDate" /><input type="time"  class="serch_new1" ng-model="cashData.endDate" />-->
                <!--</div>-->
                <span class="timeTip1">--&nbsp;&nbsp;&nbsp;</span>
                <input type="date" placeholder="yyyy-MM-dd " class="timeTip1" ng-model="cashData.endDate" />
            </div>
            <!--<div class="input-group quer" style="width:250px;float: left;margin: 0 0 0 20px">-->
            <!--<input  style="width:250px;" type="text" ng-model="keyword" class="serch_new"-->
            <!--placeholder="时间或账号搜索，这里填写账户名"/>-->
            <!--</div>-->
            <!--<div class="input-group quer" style="width:200px;float: left;margin-left:50px;">-->
            <!--<input type="datetime-local" placeholder="yyyy-MM-dd HH:mm:ss" class="serch_new"  ng-model="cashData.endDate" />-->
            <!--<div class="input-group" style="float: left;margin-left:30px;">-->
            <!--<select ng-model="cashData.status" class="timeTip1">-->
            <!--<option value="" disabled selected style="display:none">请选择发放节点</option>-->
            <!--<option value="" >请选择红包类型</option>-->
            <!--<option value="success">成功</option>-->
            <!--<option value="fail">失败</option>-->
            <!--<option value="wait_pay">待支付</option>-->
            <!--<option value="overdue">失效</option>-->
            <!--</select>-->
            <!--</div>-->
            <!--<div class="input-group" style="float: left;margin-left:30px;">-->
            <!--<select ng-model="cashData.status" class="timeTip1">-->
            <!--<option value="" disabled selected style="display:none">请选择发放节点</option>-->
            <!--<option value="" >请选择发放节点</option>-->
            <!--<option value="success">成功</option>-->
            <!--<option value="fail">失败</option>-->
            <!--<option value="wait_pay">待支付</option>-->
            <!--<option value="overdue">失效</option>-->
            <!--</select>-->
            <!--</div>-->
            <div class="input-group" style="float: left;margin-left:30px;">
                <select ng-model="cashData.type" class="timeTip1">
                    <!--<option value="" disabled selected style="display:none">请选择券类型</option>-->
                    <option value="">请选择红包类型</option>
                    <option value="0">红包券</option>
                    <!--<option value="1">体验金券</option>-->
                    <option value="2">加息券</option>
                </select>
            </div>
            <div class="input-group" style="float: left;margin-left:30px;">
                <select ng-model="cashData.status" class="timeTip1">
                    <!--<option value="" disabled selected style="display:none">请选择状态</option>-->
                    <option value="">请选择状态</option>
                    <option value="0">启动</option>
                    <option value="1">禁用</option>
                </select>
            </div>
            <div class="input-group " style="float: left;margin-left:10px;">
                <input style="width:250px;" type="text" ng-model="cashData.itemName" class="timeTip1" placeholder="券规则名称" />
            </div>
            <div class="input-group" style="float: left;margin-left:30px;">
                <button class="search_buttun" type="button" ng-click="searchRecharge()">
                    <i style="padding-right:5px;line-height:30px;" class="glyphicon glyphicon-search"></i> 查询
                </button>
            </div>
            <div class="input-group" style="float: left;margin-left:20px;">
                <button class="search_buttun3" type="button" onclick="window.location.href='#/pocket/couponRegular_add'">
                    <i style="padding-right:5px;line-height:30px;" class="glyphicon glyphicon-film"></i> 新增券规则
                </button>
            </div>
        </div>
        <div style="margin-top:20px;">
            <div>
                <table class="table table-bordered ta-bo back-wi">
                    <thead class="thead_table">
                        <tr class="thead_tr ">
                            <!--<th class="thead_th">规则ID</th>-->
                            <th class="thead_th">红包类型</th>
                            <th class="thead_th">券值（额度）（元）</th>
                            <th class="thead_th">使用条件（元）</th>
                            <th class="thead_th">发放数量（个）</th>
                            <th class="thead_th">限制天数（天）</th>
                            <th class="thead_th">状态</th>
                            <th class="thead_th">券规则名称</th>
                            <th class="thead_th">券类型</th>
                            <th class="thead_th">券有效期（天）</th>
                            <th class="thead_th">操作</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr ng-repeat="m  in  itemList">
                            <!--<td>{{m.id}}</td>-->
                            <td ng-if="m.type==0">红包券</td>
                            <!--<td ng-if="m.type==11">邀请红包</td>-->
                            <td ng-if="m.type==2">加息券</td>
                            <td ng-if="m.type==0">{{m.itemValue| PointToYuan| currency:"":2}}</td>
                            <td ng-if="m.type==2">{{m.itemValue/10| currency:"":1}}%</td>
                            <td>{{m.itemCondition| PointToYuan| currency:"":2}}</td>
                            <td>{{m.itemAmount}}</td>
                            <td>{{m.itemRestricta}}</td>
                            <td ng-if="m.status==0">启动</td>
                            <td ng-if="m.status==1">禁用</td>
                            <td>{{m.itemName}}</td>
                            <td ng-if="m.itemType==10">新手红包</td>
                            <td ng-if="m.itemType==11">邀请红包</td>
                            <td ng-if="m.itemType==12">返现红包</td>
                            <td ng-if="m.itemType==13">累投红包</td>
                            <td>{{m.length/(60*60*24)}}</td>
                            <td class="ta-bo1">
                                <button type="button" class="btn btn-default qw" ng-click="viewUI(m)">修改</button>
                                <button type="button" class="btn btn-default qw" ng-click="showConfirm(m)">删除</button>
                            </td>
                        </tr>
                    </tbody>
                </table>
                <div style="overflow: hidden;margin-top: 10px; margin: auto; text-align: center;" ng-show="totalPages>0">
                    <nav>
                        <ul id="pagination" class="pagination pagination-sm" style="">
                            <li id="firstPage"><span ng-click="selectPage(1)" aria-hidden="true">首页</span></li>
                            <li id="Previous"><span ng-click="selectPage(nowPage-1)" aria-hidden="true">«</span></li>
                            <li ng-repeat="page in pages" ng-class="{true:'active'}[page.showNumber==nowPage]">
                                <a ng-click="selectPage(page.showNumber)">{{page.showNumber}}</a></li>
                            <li ng-show="isShowDot"><a ng-click="selectPage(nowPage+6)">……</a></li>
                            <li id="Next"><a ng-click="selectPage(nowPage+1)" aria-label="Next"><span
                            aria-hidden="true">»</span></a></li>
                            <li id="lastPage"><a ng-click="selectPage(totalPages)"><span
                            aria-hidden="true">尾页&nbsp;</span></a></li>
                            <li id="sumCount"><span aria-hidden="true">共{{sumCount}}条</span></li>
                            <li><a><span
                            aria-hidden="true"><input style="width: 30px;height: 16px" type="text"  ng-model="tiaoz">&nbsp;&nbsp;<span  ng-click="selectPage(tiaoz)">跳转</span></span></a></li>
                        </ul>
                    </nav>
                </div>
            </div>
        </div>
    </div>
    <script type="text/javascript" src="resource/js/time.js"></script>
    <script>
    //    $(document).ready(function () {
    //        function fixHeight() {
    //            var headerHeight = $("#switcher").height();
    //            $("#iframe").attr("height", $(window).height()-54+ "px");
    //        }
    //        $(window).resize(function () {
    //            fixHeight();
    //        }).resize();
    //
    //        $('.icon-monitor').addClass('active');
    //
    //        $(".icon-mobile-3").click(function () {
    //            $("#by").css("overflow-y", "auto");
    //            $('#iframe-wrap').removeClass().addClass('mobile-width-3');
    //            $('.icon-tablet,.icon-mobile-1,.icon-monitor,.icon-mobile-2,.icon-mobile-3').removeClass('active');
    //            $(this).addClass('active');
    //            return false;
    //        });
    //
    //        $(".icon-mobile-2").click(function () {
    //            $("#by").css("overflow-y", "auto");
    //            $('#iframe-wrap').removeClass().addClass('mobile-width-2');
    //            $('.icon-tablet,.icon-mobile-1,.icon-monitor,.icon-mobile-2,.icon-mobile-3').removeClass('active');
    //            $(this).addClass('active');
    //            return false;
    //        });
    //
    //        $(".icon-mobile-1").click(function () {
    //            $("#by").css("overflow-y", "auto");
    //            $('#iframe-wrap').removeClass().addClass('mobile-width');
    //            $('.icon-tablet,.icon-mobile,.icon-monitor,.icon-mobile-2,.icon-mobile-3').removeClass('active');
    //            $(this).addClass('active');
    //            return false;
    //        });
    //
    //        $(".icon-tablet").click(function () {
    //            $("#by").css("overflow-y", "auto");
    //            $('#iframe-wrap').removeClass().addClass('tablet-width');
    //            $('.icon-tablet,.icon-mobile-1,.icon-monitor,.icon-mobile-2,.icon-mobile-3').removeClass('active');
    //            $(this).addClass('active');
    //            return false;
    //        });
    //
    //        $(".icon-monitor").click(function () {
    //            $("#by").css("overflow-y", "hidden");
    //            $('#iframe-wrap').removeClass().addClass('full-width');
    //            $('.icon-tablet,.icon-mobile-1,.icon-monitor,.icon-mobile-2,.icon-mobile-3').removeClass('active');
    //            $(this).addClass('active');
    //            return false;
    //        });
    //    });
    </script>